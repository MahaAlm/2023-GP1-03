;/*FB_PKG_DELIM*/

__d("PolarisPostOptionsMenuQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"6802916669819634",metadata:{},name:"PolarisPostOptionsMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisFeedRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisFeedRoot.react").__setRef("PolarisFeedRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisFeedActionScrolledToTop",[],(function(a,b,c,d,e,f){"use strict";function a(){return{type:"FEED_SCROLLED_TO_TOP"}}f.scrolledToTop=a}),66);
__d("PolarisFeedPageContainerDeferred",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisFeedPageContainer.react").__setRef("PolarisFeedPageContainerDeferred"));b=a;g["default"]=b}),98);
__d("usePolarisInitFeedPage",["PolarisFeedActionInitFeed","PolarisReactRedux","react","usePolarisQueryPreloaderID","usePolarisQueryStore"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.unstable_useMemoCache;function a(a){var b=i(5),e=d("PolarisReactRedux").useDispatch(),f=c("usePolarisQueryStore")(),g=c("usePolarisQueryPreloaderID")(a),h;b[0]!==e||b[1]!==a||b[2]!==g||b[3]!==f?(h=function(){e(d("PolarisFeedActionInitFeed").initFeed({preloadedFeedQuery:a,preloadedFeedQueryId:g,queryStore:f}))},b[0]=e,b[1]=a,b[2]=g,b[3]=f,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("PolarisFeedActionInitFeedVariant",["PolarisDsaQEHelpers","PolarisFeedActionBuildFeedPageLoadedActionV2","PolarisFeedActionFetchFeedDataFromNative","PolarisInstajax","PolarisMonitorErrors","PolarisStoryAPIActions","Promise","asyncToGeneratorRuntime","polarisFeedReducer"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c,e){e=e();var f,g,i=e.feed.currentFeed,j=d("polarisFeedReducer").getFeedContent(e.feed),k=j.isLoadingPosts;j=j.paginationInfo;k||(c({type:"FEED_LOADING"}),f=d("PolarisFeedActionFetchFeedDataFromNative").fetchFeedDataFromNative({cursor:j==null?void 0:j.cursor,feedViewInfo:a,paginationSource:j==null?void 0:j.paginationSource}).then(function(a){return c(d("PolarisFeedActionBuildFeedPageLoadedActionV2").buildFeedPageLoadedActionV2(c,a,i))}));!e.stories.isLoading&&(i==="home"||i==="following")&&d("PolarisDsaQEHelpers").isDsaFeed()&&(g=d("PolarisStoryAPIActions").loadStoryTray(c,i).then(function(a){c(a)}));return(h||(h=b("Promise"))).all([f,g])["catch"](function(a){a instanceof d("PolarisInstajax").AjaxError||d("PolarisMonitorErrors").logError(a)})});return function(a,b){return c.apply(this,arguments)}}()}g.initFeedVariant=a}),98);
__d("usePolarisInitFeedVariantPage",["PolarisFeedActionInitFeedVariant","PolarisFeedLastHeadLoadContext","PolarisReactRedux","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.unstable_useMemoCache;function a(){var a=i(3),b=d("PolarisReactRedux").useDispatch(),c=d("PolarisFeedLastHeadLoadContext").useSetLastHeadLoadMs(),e;a[0]!==b||a[1]!==c?(e=function(){b(d("PolarisFeedActionInitFeedVariant").initFeedVariant()),c(Date.now())},a[0]=b,a[1]=c,a[2]=e):e=a[2];return e}g["default"]=a}),98);
__d("usePolarisRefreshFeedData",["PolarisFeedActionConstants","PolarisFeedActionRefreshFeedData","PolarisFeedLastHeadLoadContext","PolarisFeedSeenStateManagerSingleton","PolarisReactRedux","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.unstable_useMemoCache;function a(){var a=i(3),b=d("PolarisReactRedux").useDispatch(),e=d("PolarisFeedLastHeadLoadContext").useSetLastHeadLoadMs(),f;a[0]!==b||a[1]!==e?(f=function(a,f){a=a===void 0?d("PolarisFeedActionConstants").PAGE_SIZE:a;f=f===void 0?!1:f;var g=c("PolarisFeedSeenStateManagerSingleton").get();if(g.count()>0){var h=g.getViewInfo();g.clear();b(d("PolarisFeedActionRefreshFeedData").refreshFeedData(a,f,h))}else b(d("PolarisFeedActionRefreshFeedData").refreshFeedData(a,f));e(Date.now())},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}g["default"]=a}),98);
__d("PolarisFeedRoot.react",["CometPlaceholder.react","PolarisConditionalPageLayoutHandler.react","PolarisFeedActionScrolledToTop","PolarisFeedPageContainerDeferred","PolarisFeedState","PolarisNavigationActions","PolarisReactRedux","polarisFeedSelectors","react","usePolarisCreationDialog.react","usePolarisCurrentFeedVariant","usePolarisDisplayProperties","usePolarisInitFeedPage","usePolarisInitFeedVariantPage","usePolarisPreloadedPostQuery","usePolarisRefreshFeedData","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=b.unstable_useMemoCache;function a(a){var b=l(32);a=a.props;var e=a.routeParams;a=a.routeProps;var f=e.create_live,g=e.create_post;e=a.polaris_preload;a=e.feed;var h=e.story_tray;e=e.suggested_user_list;var m=c("usePolarisCurrentFeedVariant")(),n=d("PolarisReactRedux").useSelector(d("polarisFeedSelectors").getFeedContent),o=n.currentState;n=n.isLoadingPosts;var p=c("useRoutePassthroughProps")(),q=k(!1),r=d("PolarisReactRedux").useDispatch(),s;b[0]!==o||b[1]!==n?(s=o===d("PolarisFeedState").FEED_STATE_NETWORK||n,b[0]=o,b[1]=n,b[2]=s):s=b[2];var t=s,u=c("usePolarisInitFeedPage")(a);o=c("usePolarisPreloadedPostQuery")(e);var v=c("usePolarisInitFeedVariantPage")(),w=c("usePolarisRefreshFeedData")();b[3]!==m?(n=function(a){return a.feed.content[m].items},b[3]=m,b[4]=n):n=b[4];var x=d("PolarisReactRedux").useSelector(n);s=c("usePolarisDisplayProperties")();a=s.viewportWidth;e=c("usePolarisCreationDialog.react")();var y=e[0];b[5]!==m||b[6]!==t||b[7]!==u||b[8]!==x||b[9]!==v?(n=function(){(m==="home"||m==="past_posts")&&q.current===!1&&!t?(u(),q.current=!0):m!=="home"&&!t&&(!x||x.size===0)&&v()},s=[m,u,v,t,x],b[5]=m,b[6]=t,b[7]=u,b[8]=x,b[9]=v,b[10]=n,b[11]=s):(n=b[10],s=b[11]);j(n,s);b[12]!==p||b[13]!==r||b[14]!==w?(e=function(){(p==null?void 0:p.refreshFeed)===!0&&(window.scrollTo(0,0),r(d("PolarisFeedActionScrolledToTop").scrolledToTop()),w())},b[12]=p,b[13]=r,b[14]=w,b[15]=e):e=b[15];b[16]!==p?(n=p==null?void 0:p.refreshFeed,b[16]=p,b[17]=n):n=b[17];b[18]!==r||b[19]!==n||b[20]!==w?(s=[r,n,w],b[18]=r,b[19]=n,b[20]=w,b[21]=s):s=b[21];j(e,s);b[22]!==g||b[23]!==y||b[24]!==f||b[25]!==r?(n=function(){g===!0?y({}):f===!0&&r(d("PolarisNavigationActions").openLiveCreationModal())},e=[r,g,f,y],b[22]=g,b[23]=y,b[24]=f,b[25]=r,b[26]=n,b[27]=e):(n=b[26],e=b[27]);j(n,e);b[28]!==h||b[29]!==o||b[30]!==a?(s=i.jsx(c("PolarisConditionalPageLayoutHandler.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("PolarisFeedPageContainerDeferred"),{storyTrayPolarisPreloadedQuery:h,suggestedUserListQueryRef:o,viewportWidth:a})})}),b[28]=h,b[29]=o,b[30]=a,b[31]=s):s=b[31];return s}g["default"]=a}),98);
__d("usePolarisFeedAnalyticsContext",["usePolarisFeedVariantFromRoute"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("usePolarisFeedVariantFromRoute")();if(a==="past_posts")return"pastPostsFeedPage";if(a==="favorites")return"favoritesFeedPage";return a==="following"?"followingFeedPage":"feedPage"}g["default"]=a}),98);
__d("PolarisNewPostsPill.react",["fbt","PolarisLogger","PolarisPill.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(6),e=a.onClick;b[0]!==e?(a=function(){d("PolarisLogger").logAction("newPostsPillClick"),e()},b[0]=e,b[1]=a):a=b[1];a=a;var f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f="xds687c xixxii4 x17qophe x1n327nk",b[2]=f):f=b[2];var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__0iQ7o-ke_8i__JHASH__"),b[3]=g):g=b[3];b[4]!==a?(f=k.jsx("div",{className:f,children:k.jsx(c("PolarisPill.react"),{marginTop:2,onClick:a,children:g})}),b[4]=a,b[5]=f):f=b[5];return f}g["default"]=a}),98);
__d("PolarisLightweightNewPostsPill.react",["CometRouteParams","InstagramODS","PolarisFeedActionScrolledToTop","PolarisFeedVariants","PolarisNewPostsPill.react","PolarisNewPostsPillActions","PolarisReactRedux","XPolarisFeedControllerRouteBuilder","polarisNewPostsPillSelectors","react","useCometRouterDispatcher","usePolarisLightweightNewPostsPillCheck","usePolarisRefreshFeedData"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect,k=b.useRef,l=b.unstable_useMemoCache;function a(a){var b=l(28),e=a.alwaysUseCometDispatch,f=a.scrollToTopElement,g=d("PolarisReactRedux").useSelector(d("polarisNewPostsPillSelectors").checkHasNewPosts),h=d("PolarisReactRedux").useSelector(d("polarisNewPostsPillSelectors").getDocumentVisibilityHiddenTimestamp);a=d("CometRouteParams").useRouteParams();var m=a.variant,n=c("useCometRouterDispatcher")(),o=d("PolarisReactRedux").useDispatch(),p=c("usePolarisLightweightNewPostsPillCheck")(),q=k(!0),r=c("usePolarisRefreshFeedData")();b[0]!==p||b[1]!==h||b[2]!==o?(a=function(){if(document.visibilityState==="visible")p(h);else{var a=Date.now();o(d("PolarisNewPostsPillActions").setDocumentVisibilityHiddenTimestamp(a))}},b[0]=p,b[1]=h,b[2]=o,b[3]=a):a=b[3];var s=a;b[4]!==o||b[5]!==e||b[6]!==m||b[7]!==n||b[8]!==f||b[9]!==r?(a=function(){c("InstagramODS").incr("web.feed.lightweight_new_posts_pill.triggered");o(d("PolarisNewPostsPillActions").setNewPostsPillVisibility(!1));if(e===!0||m!=null&&c("PolarisFeedVariants").cast(String(m))!=="home"){var a=c("XPolarisFeedControllerRouteBuilder").buildURL({}),b={refreshFeed:!0};n==null?void 0:n.go(a,{passthroughProps:b});return}f?f.scrollIntoView():window.scrollTo(0,0);o(d("PolarisFeedActionScrolledToTop").scrolledToTop());r()},b[4]=o,b[5]=e,b[6]=m,b[7]=n,b[8]=f,b[9]=r,b[10]=a):a=b[10];var t=a;b[11]!==g||b[12]!==t?(a=function(){g===!0&&window.scrollY===0&&t()},b[11]=g,b[12]=t,b[13]=a):a=b[13];var u=a,v;b[14]!==s||b[15]!==u?(a=function(){document.addEventListener("visibilitychange",s);document.addEventListener("scroll",u);return function(){document.removeEventListener("visibilitychange",s),document.removeEventListener("scroll",u)}},v=[s,u],b[14]=s,b[15]=u,b[16]=a,b[17]=v):(a=b[16],v=b[17]);j(a,v);b[18]!==g||b[19]!==t?(a=function(){q.current===!0&&(q.current=!1,g===!0&&t())},b[18]=g,b[19]=t,b[20]=a):a=b[20];b[21]!==p||b[22]!==g||b[23]!==t?(v=[p,g,t],b[21]=p,b[22]=g,b[23]=t,b[24]=v):v=b[24];j(a,v);b[25]!==g||b[26]!==t?(a=g?i.jsx(c("PolarisNewPostsPill.react"),{onClick:t}):null,b[25]=g,b[26]=t,b[27]=a):a=b[27];return a}g["default"]=a}),98);
__d("PolarisNotificationsScreenStrings",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||d("react");a=h._("__JHASH__zfz-cvsBfm-__JHASH__");b=h._("__JHASH__vD5ZkI_Rv8j__JHASH__");c=h._("__JHASH__d3mx4RFtZtu__JHASH__");e=h._("__JHASH__QqBWQO_S5_F__JHASH__");g.NOTIFICATIONS_MODAL_PARAGRAPH=a;g.NOTIFICATIONS_MODAL_TITLE=b;g.NOTIFICATIONS_MODAL_ACTION=c;g.NOTIFICATIONS_MODAL_SECONDARY_ACTION=e}),98);
__d("PolarisNotificationsScreenModal.react",["IGCoreDialog","PolarisIGCoreDialogCircleMedia","PolarisNotificationsScreenStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k=j.jsx("img",{alt:"",height:"76px",src:"/images/instagram/xig/ico/xxhdpi_launcher.png?__d=www",width:"76px"});function a(a){var b=i(8),e=a.onAction;a=a.onClose;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("PolarisIGCoreDialogCircleMedia"),{icon:k}),b[0]=f):f=b[0];f=f;var g;b[1]!==e?(g=j.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:e,children:d("PolarisNotificationsScreenStrings").NOTIFICATIONS_MODAL_ACTION}),b[1]=e,b[2]=g):g=b[2];b[3]!==a?(e=j.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a,children:d("PolarisNotificationsScreenStrings").NOTIFICATIONS_MODAL_SECONDARY_ACTION}),b[3]=a,b[4]=e):e=b[4];b[5]!==g||b[6]!==e?(a=j.jsxs(d("IGCoreDialog").IGCoreDialog,{body:d("PolarisNotificationsScreenStrings").NOTIFICATIONS_MODAL_PARAGRAPH,media:f,title:d("PolarisNotificationsScreenStrings").NOTIFICATIONS_MODAL_TITLE,children:[g,e]}),b[5]=g,b[6]=e,b[7]=a):a=b[7];return a}g["default"]=a}),98);
__d("PolarisNotificationsScreen.react",["ExecutionEnvironment","InstagramODS","PolarisConfig","PolarisCookies","PolarisDismissEntry","PolarisLogger","PolarisNotificationPermission","PolarisNotificationsScreenModal.react","clearTimeout","polarisInitServiceWorker","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useState,m=b.unstable_useMemoCache;function n(){var a=d("polarisInitServiceWorker").getSupportedFeatures(),b=a.edgeVapidPush,e=a.notifications;a=a.serviceWorker;return(!b||d("polarisInitServiceWorker").hasVapid())&&(h||(h=c("ExecutionEnvironment"))).canUseDOM&&e&&a&&!d("PolarisCookies").needsToConfirmCookies()&&!d("PolarisConfig").shouldUsePrivacyFlowTrigger()&&window.Notification&&window.Notification.permission===d("PolarisNotificationPermission").NOTIFICATION_PERMISSION["default"]&&!o()}function o(){return d("PolarisDismissEntry").isDismissed(d("PolarisDismissEntry").NOTIFICATIONS_TYPE)||p()}function p(){return d("PolarisDismissEntry").isSessionDismissedHelper(d("PolarisDismissEntry").NOTIFICATIONS_SESSIONS_TYPE)}function a(){var a=m(5),b=l(!1),e=b[0],f=b[1];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){d("polarisInitServiceWorker").initalizePush("upsell"),f(!1)},a[0]=b):b=a[0];b=b;var g;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){f(!1),d("PolarisLogger").logAction("notificationsNuxDismissed"),c("InstagramODS").incr("web.notifications.notifications_nux_dismissed"),d("PolarisDismissEntry").setDismissSessionEntryHelper(d("PolarisDismissEntry").NOTIFICATIONS_SESSIONS_TYPE)},a[1]=g):g=a[1];g=g;var h,i;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){if(!n())return;var a=c("setTimeout")(function(){f(!0),d("PolarisLogger").logAction("notificationsNuxShown"),c("InstagramODS").incr("web.notifications.notifications_nux_shown")},0);return function(){c("clearTimeout")(a)}},i=[],a[2]=h,a[3]=i):(h=a[2],i=a[3]);k(h,i);if(e){a[4]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsx(c("PolarisNotificationsScreenModal.react"),{onAction:b,onClose:g}),a[4]=h):h=a[4];return h}return null}g["default"]=a}),98);
__d("PolarisBaseOptionsMenuFallback.react",["IGDSPopoverLoadingState.react","IGDSSpinner.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={container:{marginTop:"x1xmf6yo",marginEnd:"x1emribx",marginBottom:"x1e56ztr",marginStart:"x1i64zmx",$$css:!0},popover:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",marginBottom:"xyorhqc",marginTop:"x1anpbxc",$$css:!0},root:{maxHeight:"xqrff1o",minHeight:"x19i0xim",width:"x15chvws",$$css:!0}};function a(){var a=i(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b="x1xmf6yo x1emribx x1e56ztr x1i64zmx",a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",{className:b,children:j.jsx(c("IGDSSpinner.react"),{})}),a[1]=b):b=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSPopoverLoadingState.react"),{popoverContent:b,popoverXStyle:k.popover,xstyle:k.root}),a[2]=b):b=a[2];return b}g["default"]=a}),98);
__d("PolarisPostOptionsMenu.entrypoint",["JSResourceForInteraction","PolarisPostOptionsMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{mediaQuery:{options:{},parameters:c("PolarisPostOptionsMenuQuery$Parameters"),variables:{id:a.routeParams.mediaPK}}}}},root:c("JSResourceForInteraction")("PolarisPostOptionsMenu.react").__setRef("PolarisPostOptionsMenu.entrypoint")};g["default"]=a}),98);
__d("PolarisPostOptionsButton.react",["IGDSEntryPointPopoverTrigger.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon","PolarisBaseOptionsMenuFallback.react","PolarisNavigationStrings","PolarisPostOptionsMenu.entrypoint","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(10);a=a.mediaPK;var e;b[0]!==a?(e={mediaPK:a},b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[2]=a):a=b[2];b[3]!==e?(a={routeParams:e,routeProps:a},b[3]=e,b[4]=a):a=b[4];var f;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("PolarisBaseOptionsMenuFallback.react"),{}),f={},b[5]=e,b[6]=f):(e=b[5],f=b[6]);var g;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a,b,e){return j.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,hover:j.jsx(c("IGDSMoreHorizontalPanoOutlineIcon"),{alt:d("PolarisNavigationStrings").MORE_TEXT,color:"ig-secondary-icon"}),innerRef:a,onClick:b,children:j.jsx(c("IGDSMoreHorizontalPanoOutlineIcon"),{alt:d("PolarisNavigationStrings").MORE_TEXT})})},b[7]=g):g=b[7];b[8]!==a?(e=j.jsx(c("IGDSEntryPointPopoverTrigger.react"),{align:"start",entryPointParams:a,fallback:e,otherProps:f,popoverEntryPoint:c("PolarisPostOptionsMenu.entrypoint"),position:"above",preloadTrigger:"button",children:g}),b[8]=a,b[9]=e):e=b[9];return e}g["default"]=a}),98);