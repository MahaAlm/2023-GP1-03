;/*FB_PKG_DELIM*/

__d("PolarisProfileStoryHighlightsTrayItem.react",["fbt","IGDSAddOutline24Icon","IGDSText.react","PolarisAvatarWithStoriesContainer.react","PolarisIGCorePressable","PolarisNewHighlightsStrings","PolarisStoryRing.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l=0;function m(){return"ProfileStoryHighlightsTrayItem"+l++}function n(a){var b=j(4),d=a.highlightLabel;a=a.isSmallScreen;if(a){b[0]!==d?(a=k.jsx(c("IGDSText.react").Body2,{maxLines:1,zeroMargin:!0,children:d}),b[0]=d,b[1]=a):a=b[1];return a}b[2]!==d?(a=k.jsx(c("IGDSText.react").Body2Emphasized,{maxLines:1,zeroMargin:!0,children:d}),b[2]=d,b[3]=a):a=b[3];return a}function a(a){var b,e=j(27),f=a.addNewHighlight,g=a.avatarSize,i=a.isSmallScreen,l=a.onClick,o=a.reel;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=m(),e[0]=a):a=e[0];var p=a;e[1]!==l||e[2]!==o?(a=function(){var a;l((a=o==null?void 0:o.id)!=null?a:"",p)},e[1]=l,e[2]=o,e[3]=a):a=e[3];a=a;var q;e[4]!==g?(q={height:g,width:g},e[4]=g,e[5]=q):q=e[5];q=q;b=(b=o==null?void 0:o.title)!=null?b:d("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_TEXT;var r;e[6]!==b||e[7]!==i?(r=k.jsx(n,{highlightLabel:b,isSmallScreen:i}),e[6]=b,e[7]=i,e[8]=r):r=e[8];b=r;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(r="x6s0dn4 x9f619 x78zum5 xdt5ytf xwzhuwn x19xppfw x1lvlso5 x1hqdklf x4js05n xm4az7 x1jo5dny x5zefxq x1u2d83q x1lvagci x11853ko",e[9]=r):r=e[9];var s;e[10]!==o||e[11]!==q||e[12]!==g?(s=o!=null&&k.jsx(c("PolarisAvatarWithStoriesContainer.react"),{canTabFocus:!1,clickTargetElementId:p,entrypoint:"reel_highlight_profile",highlightReelId:o.highlightReelId,size:g,children:k.jsx("div",{className:"xnz67gz x14yjl9h xudhj91 x18nykt9 xww2gxu x1lliihq x6ikm8r x10wlt62 x1n2onr6",style:q,children:k.jsx("img",{alt:h._("__JHASH__B2hKC5spJyT__JHASH__",[h._param("username",o.title)]),className:"x972fbf xcfux6l x1qhh985 xm0m39n xk390pu x5yr21d xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x11njtxf xh8yej3","data-testid":void 0,src:o.thumbnailUrl})})}),e[10]=o,e[11]=q,e[12]=g,e[13]=s):s=e[13];var t;e[14]!==f||e[15]!==g||e[16]!==i||e[17]!==q?(t=f===!0&&k.jsxs("div",{className:"xamitd3 x1ypdohk x1lliihq x1n2onr6 x87ps6o",children:[k.jsx(c("PolarisStoryRing.react"),{isCenterOnAvatar:!0,seen:!0,showRing:!0,size:g}),k.jsx("div",{className:"xnz67gz x14yjl9h xudhj91 x18nykt9 xww2gxu x6ikm8r x10wlt62 x1n2onr6 x6s0dn4 x78zum5 xl56j7k",style:q,children:k.jsx(c("IGDSAddOutline24Icon"),{alt:d("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_ALT_TEXT,color:"ig-tertiary-icon",size:i?30:44})})]}),e[14]=f,e[15]=g,e[16]=i,e[17]=q,e[18]=t):t=e[18];e[19]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1ypdohk x2b8uid xh8yej3 x1ldzjpm xpzf5u2",e[19]=f):f=e[19];e[20]!==b?(g=k.jsx("div",{className:f,children:b}),e[20]=b,e[21]=g):g=e[21];e[22]!==a||e[23]!==s||e[24]!==t||e[25]!==g?(i=k.jsxs(c("PolarisIGCorePressable"),{className:r,onPress:a,role:"menuitem",children:[s,t,g]}),e[22]=a,e[23]=s,e[24]=t,e[25]=g,e[26]=i):i=e[26];return i}g["default"]=a}),98);
__d("PolarisProfileStoryHighlightsTrayLegacy.react",["IGDSBox.react","IGDSDialogBackwardsCompatibilityWrapper.react","PolarisConfig","PolarisCreateAndAddHighlightsModal.react","PolarisHasAddHighlightEnabled","PolarisLinkBuilder","PolarisLogger","PolarisProfileStoryHighlightsTrayItem.react","PolarisProfileStoryHighlightsTrayItemPlaceholder.react","PolarisReactRedux","PolarisStoryActions","PolarisVirtualHSnapScroll.react","browserHistory","cr:8393","immutable-4.0.0-rc.9","nullthrows","polarisStorySelectors","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h;j.useMemo;var k=j.useState,l=j.unstable_useMemoCache;function a(a){var e=l(30),f=a.highlightReelCount,g=a.initialVisibleItems,h=a.isSmallScreen,j=a.maxPlaceHolderItems,m=a.onLoadReel,n=a.reels,o=a.sizes;a=a.userId;var p=k(!1),q=p[0],r=p[1];e[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(a){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildHighlightStoryLink(a))},e[0]=p):p=e[0];var s=p;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){d("PolarisLogger").logAction("addHighlightIconClick"),r(!0)},e[1]=p):p=e[1];var t=p;e[2]!==o.cardWidth||e[3]!==o.gapWidth||e[4]!==o.avatarSize?(p=function(a,b){return i.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",width:o.cardWidth+o.gapWidth/2,children:i.jsx(c("PolarisProfileStoryHighlightsTrayItemPlaceholder.react"),{avatarSize:o.avatarSize},b)},b)},e[2]=o.cardWidth,e[3]=o.gapWidth,e[4]=o.avatarSize,e[5]=p):p=e[5];f=Array.from({length:Math.min(f,j)},p);j=f;e[6]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(a){return a.id},e[6]=p):p=e[6];f=((f=n==null?void 0:n.toArray())!=null?f:[]).map(p);p=f;var u=b("cr:8393")(p);e[7]===Symbol["for"]("react.memo_cache_sentinel")?(f=d("PolarisConfig").getViewerId(),e[7]=f):f=e[7];var v=f;e[8]!==u||e[9]!==m||e[10]!==n?(p=function(a,b){if(u!=null){u(a);return}v!=null?m(d("immutable-4.0.0-rc.9").Seq.Indexed(c("nullthrows")(n)),a,b,function(){return s(a)}):s(a)},e[8]=u,e[9]=m,e[10]=n,e[11]=p):p=e[11];var w=p;f=n!=null?n.map(function(a){return i.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",width:o.cardWidth+o.gapWidth/2,children:i.jsx(c("PolarisProfileStoryHighlightsTrayItem.react"),{avatarSize:o.avatarSize,isSmallScreen:h,onClick:w,reel:a})},a.id)}).toArray():[];p=f;e[12]!==o.cardWidth||e[13]!==o.gapWidth||e[14]!==o.avatarSize||e[15]!==h?(f=function(){return i.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",width:o.cardWidth+o.gapWidth/2,children:i.jsx(c("PolarisProfileStoryHighlightsTrayItem.react"),{addNewHighlight:!0,avatarSize:o.avatarSize,isSmallScreen:h,onClick:t})},"newHighlight")},e[12]=o.cardWidth,e[13]=o.gapWidth,e[14]=o.avatarSize,e[15]=h,e[16]=f):f=e[16];f=f;var x=n!=null,y=a===v;j=n==null?y&&d("PolarisHasAddHighlightEnabled").hasAddHighlightEnabled()?j.concat(f()):j:y&&d("PolarisHasAddHighlightEnabled").hasAddHighlightEnabled()?p.concat(f()):p;y=o.cardWidth+o.gutterWidth/2;f=x?"highlights":"placeholder";p=h||!x;e[17]!==o.gutterWidth||e[18]!==g||e[19]!==y||e[20]!==f||e[21]!==p||e[22]!==j?(x=i.jsx(c("PolarisVirtualHSnapScroll.react"),{gutterWidth:o.gutterWidth,initialVisibleItemsGuess:g,itemWidth:y,overscan:7,pagerDisabled:p,children:j},f),e[17]=o.gutterWidth,e[18]=g,e[19]=y,e[20]=f,e[21]=p,e[22]=j,e[23]=x):x=e[23];e[24]!==q||e[25]!==a?(g=q&&i.jsx(c("IGDSDialogBackwardsCompatibilityWrapper.react"),{children:i.jsx(c("PolarisCreateAndAddHighlightsModal.react"),{onClose:function(){return r(!1)},userId:a})}),e[24]=q,e[25]=a,e[26]=g):g=e[26];e[27]!==x||e[28]!==g?(y=i.jsxs(i.Fragment,{children:[x,g]}),e[27]=x,e[28]=g,e[29]=y):y=e[29];return y}function e(a,b){var e=d("polarisStorySelectors").getHighlightReelsByUserId(a,b.userId),f=c("nullthrows")(a.users.users.get(b.userId)).highlightReelCount;a=d("polarisUserSelectors").getUserById(a,b.userId);return{highlightReelCount:f==null?0:f,reels:e,userFollowerCount:(b=a.counts)==null?void 0:b.followedBy}}function f(a){return{onLoadReel:function(b,c,e,f){a(d("PolarisStoryActions").openReelsMedia(b,"reel_highlight_profile",c,e,void 0,!0,f))}}}j=d("PolarisReactRedux").connect(e,f)(a);g["default"]=j}),98);